# run container from latest mysql image
docker run -it --rm mysql:5.7 /bin/bash

# run commands in container
echo "deb http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main" | tee /etc/apt/sources.list.d/webupd8team-java.list
echo "deb-src http://ppa.launchpad.net/webupd8team/java/ubuntu trusty main" | tee -a /etc/apt/sources.list.d/webupd8team-java.list
apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys EEA14886
apt-get update
apt-get install oracle-java8-installer

#set the Java environment variables
apt-get install oracle-java8-set-default





------------------------------
INSTALLING JRE 8 ON MYSQL 5.7 IMAGE
______________________________
#install wget cause it's missing from image
apt-get update
apt-get -f install
apt-get install wget

#make dir
mkdir -p "/opt/java"

#download oracle jre get the url from the official site and use the rest as is
wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie" "http://download.oracle.com/otn-pub/java/jdk/8u66-b17/server-jre-8u66-linux-x64.tar.gz"

#untar
tar -zxvf server-jre-8u66-linux-x64.tar.gz 

#export env vars
export JAVA_HOME=/opt/java/jdk1.8.0_66/	
export JRE_HOME=/opt/java/jdk1.8.0._66/jre 	
export PATH=$PATH:/opt/java/jdk1.8.0_66/bin:/opt/java/jdk1.8.0_66/jre/bin

#test
java -version

#remove .tar to save space
rm server-jre-8u66-linux-x64.tar.gz 

#commit changes to image
docker commit -m "Added Oracle jre 8" -a "Dionysis Lappas" updated_con_id dio/mysql_jre:v1
